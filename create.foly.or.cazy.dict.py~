#usage python create.foly.or.cazy.dictionary.py <maxbitsfile> <csv.file> <output.pkl.file>

import pickle
import sys
import csv

max_bits_dict={}

filemaxbitsin=open(sys.argv[1],'r')

for line in filemaxbitsin:
    line=line.split('\t')
    subject1=line[1]
    maxbits1=float(line[11])
    max_bits_dict[subject1]=maxbits1
#print max_bits_dict

filein=open(sys.argv[2],'r')
fileout=open(sys.argv[3],'w')

folydict={}

for row in csv.reader(filein):
    subject=row[0]
    description=row[1]
    foly1=row[2]
    foly2=row[3]
    maxbits=max_bits_dict.get(subject)    
    x=folydict.get(subject, [])
    x.append(description)
    x.append(foly1)
    x.append(foly2)
    x.append(maxbits)
    folydict[subject]=x

print folydict
pickle.dump(folydict,fileout)

